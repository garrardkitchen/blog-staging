<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Garrard Kitchen â€“ Azure</title><link>https://blog-dev.garrardkitchen.com/tags/azure/</link><description>Recent content in Azure on Garrard Kitchen</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 04 Feb 2024 19:39:24 +0000</lastBuildDate><atom:link href="https://blog-dev.garrardkitchen.com/tags/azure/index.xml" rel="self" type="application/rss+xml"/><item><title>Compare Resources From Terraform Plan</title><link>https://blog-dev.garrardkitchen.com/blog/compare-resources-from-terraform-plan/</link><pubDate>Sun, 04 Feb 2024 19:39:24 +0000</pubDate><guid>https://blog-dev.garrardkitchen.com/blog/compare-resources-from-terraform-plan/</guid><description>
&lt;p>Here&amp;rsquo;s a &lt;a href="https://github.com/garrardkitchen/terraform-examples/blob/compare/2024-feb-compare-plan-with-resources/README.md" target="_blank" rel="noopener">link&lt;/a> to a repo I created today, that will be used to host examples of all challenges I encounter that relate to Terraform.&lt;/p>
&lt;p>In this particular sample, I need to list out all those resources that will be created using Terraform where we do not have a state file. The product of this will be added to sheets, by Resource Group, in an Excel spreadsheet. Each sheet is an Azure Resource Group. The rationale for this is that at some point an apply was executed, and due to the state not being managed, we do not know if the current config matches with what has been deployed.&lt;/p>
&lt;p>The Excel spreadsheet gives us something organised and visual to use to compare. This will also be used to confirm the correct naming convensions have been used.&lt;/p>
&lt;p>This is an example of the resulting Excel spreadsheet:&lt;/p>
&lt;p>&lt;img src="../img/2024-02-05-06-58-01.png" alt="" loading="lazy" />&lt;/p>
&lt;p>To see the the few LOC used to generate this, please &lt;a href="https://github.com/garrardkitchen/terraform-examples/blob/compare/2024-feb-compare-plan-with-resources/README.md" target="_blank" rel="noopener">click here&lt;/a>.&lt;/p></description></item><item><title>How to Conditionally Include a Nuget Package</title><link>https://blog-dev.garrardkitchen.com/blog/how-to-conditionally-include-a-nuget-package/</link><pubDate>Wed, 21 Sep 2022 20:58:53 +0100</pubDate><guid>https://blog-dev.garrardkitchen.com/blog/how-to-conditionally-include-a-nuget-package/</guid><description>
&lt;h1>The context&lt;/h1>&lt;p>I have implemented a solution that as it&amp;rsquo;s primary objective iterates through a sequence of HTTP Requests and page interactions. With sequencing through these steps regularly it gives the support team the maximum amount of time to react to an outage. This outage can be isolated to this particular service, or can originate from any of it&amp;rsquo;s downstream dependencies.&lt;/p>
&lt;p>To help with the automation of these steps, I&amp;rsquo;m using Selenium and in particular, it&amp;rsquo;s headless browser capability in conjunction with ChromeDriver. With this combination, I can navigate within a Chrome browser, provide alphanumerical inputs and execute mouse clicks, all by using imperative code.&lt;/p>
&lt;p>I am using serverless technologies to orchestrate it&amp;rsquo;s delivery, and for this solution&amp;rsquo;s resiliency. The particulars include an Azure FucntionsApp (Linux Container) that hosts the C# .NET 6.0 FunctionsApp, and the ChromeDriver which happens to be an external program (ergo, not managed code). I use the DevOps approach to build the FunctionsApp and associated unit tests, run the unit tests, produce code coverage stats (with min threshold), push the Docker image to ACR, deploy to a slot, assess error rates by calling &lt;strong>az monitor log-analytics query &amp;hellip;&lt;/strong> then performing a swap with the production slot post a manual verification step. These steps are incorporated into separate pipelines within &lt;strong>Azure DevOps&lt;/strong>. There are multiple pipelines, one for infrastructure and one for the application. For the IaC I use the &lt;strong>bicep&lt;/strong> DSL. I&amp;rsquo;m using common pipeline patterns such as variable and jobs templates. I&amp;rsquo;m also interacting with the az pipelines (azure-devops cli extension) to create/update variable-groups and variables.&lt;/p>
&lt;h1>The issue&lt;/h1>&lt;p>During the execution of this FunctionsApp, I have observed warnings reporting a ChromeDriver mismatch with the Chrome browser, in the logs. This needed to be addressed.&lt;/p>
&lt;p>My Dockerfile installs the latest stable version of Chrome - which happens to be version (major - semantic versioning) 105. However, my local development environment is constrained to using Chrome 104. To avoid any potential incompatibility issues, as well as to quieten these &lt;em>annoying&lt;/em> warnings, I somehow need to implement a solution that requires zero maintenance.&lt;/p>
&lt;h1>The solution&lt;/h1>&lt;p>Thanks to Mrs Google, and DDoSing this search engine with of terms such as &lt;em>nuget, conditions, linux&lt;/em>, I eventually cobbled together a way to conditionally include package references. IDK there is a &lt;strong>choose&lt;/strong> element within a csproj xml schema. I do now!&lt;/p>
&lt;p>I felt that the real challenge here was to &lt;strong>include&lt;/strong> a package based on the intended operating system of the runtime. In &lt;strong>dotnet&lt;/strong> vernacular, this is know as a &lt;strong>Runtime Identifier&lt;/strong>. Examples of such are, &lt;em>linux-64, win-64, win-32&lt;/em>. You provide this &lt;strong>Runtime Identifier&lt;/strong> by using the -r (runtime) switch. A full example can be found later in this post.&lt;/p>
&lt;p>Additionally, I felt it was important that the DX would not suffer consequently. So, I needed someway to set a default. This default will come into play when a developer runs this FunctionsApp via:&lt;/p>
&lt;ul>
&lt;li>the &lt;code>dotnet run&lt;/code> cli command or&lt;/li>
&lt;li>from within an IDE (Rider, VS) or&lt;/li>
&lt;li>code editor such as VSCode.&lt;/li>
&lt;/ul>
&lt;p>In this example xml snippet, you can see how I&amp;rsquo;ve implemented a default and how I used the &lt;strong>Condition&lt;/strong> attribute to include packages based on the &lt;strong>Runtime Identifier&lt;/strong>:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;Choose&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;When&lt;/span> &lt;span class="na">Condition=&lt;/span>&lt;span class="s">&amp;#34;$(RuntimeIdentifier) != &amp;#39;&amp;#39;&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;ItemGroup&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;PackageReference&lt;/span> &lt;span class="na">Condition=&lt;/span>&lt;span class="s">&amp;#34;$(RuntimeIdentifier.StartsWith(&amp;#39;win&amp;#39;))&amp;#34;&lt;/span> &lt;span class="na">Include=&lt;/span>&lt;span class="s">&amp;#34;Selenium.WebDriver.ChromeDriver&amp;#34;&lt;/span> &lt;span class="na">Version=&lt;/span>&lt;span class="s">&amp;#34;104.0.5112.7900&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;PackageReference&lt;/span> &lt;span class="na">Condition=&lt;/span>&lt;span class="s">&amp;#34;$(RuntimeIdentifier.StartsWith(&amp;#39;linux&amp;#39;))&amp;#34;&lt;/span> &lt;span class="na">Include=&lt;/span>&lt;span class="s">&amp;#34;Selenium.WebDriver.ChromeDriver&amp;#34;&lt;/span> &lt;span class="na">Version=&lt;/span>&lt;span class="s">&amp;#34;105.0.5195.1900&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/ItemGroup&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/When&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;Otherwise&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;ItemGroup&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;PackageReference&lt;/span> &lt;span class="na">Include=&lt;/span>&lt;span class="s">&amp;#34;Selenium.WebDriver.ChromeDriver&amp;#34;&lt;/span> &lt;span class="na">Version=&lt;/span>&lt;span class="s">&amp;#34;104.0.5112.7900&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/ItemGroup&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/Otherwise&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/Choose&amp;gt;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>I specify the &lt;strong>runtime identifier&lt;/strong> of &lt;em>linux-64&lt;/em> in the Dockerfile when I &lt;em>publish&lt;/em> the .NET Core FunctionsApp. This can be seen in the command snippet below. This will ensure that the version (major) 105 is included:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dotnet&lt;/span> &lt;span class="n">publish&lt;/span> &lt;span class="n">-p:PublishChromeDriver&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">true&lt;/span> &lt;span class="p">.\&lt;/span>&lt;span class="nb">my-functionsapp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">csproj&lt;/span> &lt;span class="n">-c&lt;/span> &lt;span class="n">release&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-self-contained&lt;/span> &lt;span class="n">-r&lt;/span> &lt;span class="nb">linux-x64&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-output&lt;/span> &lt;span class="p">./&lt;/span>&lt;span class="n">publish&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>And if you set the verbosity of the output by adding this switch &lt;code>-v d&lt;/code> (d&lt;em>etailed&lt;/em>) you will have visual confirmation that the appropriate version has been included:&lt;/p>
&lt;p>&lt;img src="../img/2022-09-21-13-01-36.png" alt="" loading="lazy" />&lt;/p>
&lt;p>And there you have it, an example of how to include a different version of a nuget package.&lt;/p></description></item><item><title>The Grass Is Rarely Greener</title><link>https://blog-dev.garrardkitchen.com/blog/the-grass-is-rarely-greener/</link><pubDate>Sun, 30 Jan 2022 18:27:54 +0000</pubDate><guid>https://blog-dev.garrardkitchen.com/blog/the-grass-is-rarely-greener/</guid><description>
&lt;p>I recently had a conversation that stirred up some &lt;em>surpressed&lt;/em> memories. The conversation was related to moving to a different cloud vendor. That journey didn&amp;rsquo;t work out so well for me and the company I was working for at the time. Sadly, that company stopped trading and I don&amp;rsquo;t think it&amp;rsquo;s that much of a leap to link that journey to the demise of that company. Hopefully, now the title of this post is starting to make more sense?&lt;/p>
&lt;p>Several years back, the company that I was working for at the time shifted to AWS, away from Azure. It was heavily suggested - I was present during that conversation - that it would be in our interest if we &amp;ldquo;jumped ship&amp;rdquo; to &lt;em>their&lt;/em> platform. &amp;ldquo;Their&amp;rdquo; being &amp;ldquo;AWS&amp;rdquo;. Long story short, sadly it was not. In fact, it turned out to be a huge waste of time. IMO, they should never have suggested this. There were other suggestions made that &lt;em>they&lt;/em> really should not have made; sadly we followed these too. In retrospect, it was totally unjustifiable not to mention unfair for them to suggest any of this for a company of that size [small], especially knowing how long all of this would take to do. I even gained 2 AWS certifications to help best advise the company on how to implement/integrate with the AWS Platform and backing services.&lt;/p>
&lt;p>If you are thinking, &amp;ldquo;You are grown-ups with years of experience under your belt yeah, so you didn&amp;rsquo;t have to go with what they said did you?&amp;rdquo;. Indeed, but it was AWS and these people we were talking to were big hitters and as such, the &amp;ldquo;carrot&amp;rdquo; was big. Who wouldn&amp;rsquo;t right?!&lt;/p>
&lt;p>I will return to this in a later post but for now I will call out, IMO, several important and possibly overlooked considerations when contemplating a move to a different Cloud Provider.&lt;/p>
&lt;h1>Considerations when moving to another Cloud Provider&lt;/h1>&lt;p>Here are a few nuggets that will hopefully resonate:&lt;/p>
&lt;p>1 - I don&amp;rsquo;t know of any business that will allow their &amp;ldquo;technical people&amp;rdquo; to have their way and purely focus on tech debt or similar, without developing features (or improvements) over a prolonged amount of time. If part funded with VC money, I&amp;rsquo;m sure they won&amp;rsquo;t be too happy either - further delay on their return, and for what? With all the best intentions in the world, migrations are time-consuming (not to mention a scheduling nightmare), and this time is exponential when dealing with new or unfamiliar tech. Tech will also present problems, regardless of where it is.&lt;/p>
&lt;p>2 - Cloud vendors offer essentially the same backing services - orchestration, serverless compute, VM compute, db, caching, temporal decoupling thru queues, and the list goes on&amp;hellip; . They may make it easier or more attractive for particular language techs and ecosystems, but essentially, it&amp;rsquo;s the same offerings plus patterns (EIP but in the Cloud) but elsewhere. Not to mention they all have their own version of the 5 pillars of the &amp;ldquo;Well-Architecture&amp;rdquo; framework.&lt;/p>
&lt;p>3 - As an extension of (2) above, there&amp;rsquo;s training to consider. Also, new problems to solve, and migration paths to figure out. Not to mention RBAC and ownership. And don&amp;rsquo;t forget DevOps, possibly made slightly easier if you&amp;rsquo;ve opted to a non-native IaC approach like TF (Terraform). And don&amp;rsquo;t forget automation, runbooks, alerting, 3 pillars of observation (incl. distributed tracing). And don&amp;rsquo;t forget&amp;hellip; .&lt;/p>
&lt;p>4 - If there&amp;rsquo;s something that your current cloud vendor doesn&amp;rsquo;t offer and the need is absolutely justifiable, you can also look for a SaaS alternative. When you boil it down, all you are &lt;em>really&lt;/em> interested in are specific use-cases/features, integration options (SDKs) and it being a &amp;ldquo;managed service&amp;rdquo; as to avoid requiring additional Engineers to manage it and perform associated activities to ensure it&amp;rsquo;s HA, patched and secure. Even if it&amp;rsquo;s a service only offered by a different cloud vendor, there are light-touch integration options - for example, AWS Lambda and AWS Kinesis Data Streaming. This is an approach we&amp;rsquo;ve had to take.&lt;/p>
&lt;p>5 - It&amp;rsquo;s always going to take longer than you think. Fact. We tend to think &amp;ldquo;happy path&amp;rdquo;.&lt;/p>
&lt;p>6 - Now, this next one is a biggy &amp;hellip; if you are moving to new tech, whether it be a new cloud vendor but more appropriately shifting to a new server-side language (eg from c# to go), you are going to lose between 20-40% of those Engineers who&amp;rsquo;s core language is c#. I&amp;rsquo;ve not observed the same levels of attrition on a shift to a different client-side tech. More often, you&amp;rsquo;ll have several client-side techs in play. Maybe some core concepts of newly opted JS framework have changed, but essentially the language tech hasn&amp;rsquo;t (JS/TS). Well, that&amp;rsquo;s if you&amp;rsquo;re not shifting to Blazor (WebAssembly). One major deficit of when your Engineers leave is that so does their domain knowledge ðŸ˜±. Again, speaking from a position of experience, it&amp;rsquo;s sad to see people go. Morale takes a hit. And when Engineers leave, their roles need replacing too. Recruitment ensues, which requires planning plus patience, often the cause of disruptions and then it takes other Engineers&amp;rsquo; time for onboarding and orientation.&lt;/p>
&lt;p>7 - If cost is a consideration or motivation for the move then what are you doing re: the Cost Optimisation tenet of your provider&amp;rsquo;s flavour of a &amp;ldquo;Well-Architected&amp;rdquo; Framework? More important than this but less obvious, what is the Cloud Service Provider (CSP) or organisation that is the conduit between you and the Cloud Vendor doing to help? In my experience, they only get involved if you need help with an issue, or if there&amp;rsquo;s a zero-day exploit you need to be made away of or other type of issue involving one of your backing services. Anything difficult, then they tend to hand off to the Cloud Vendor themselves, but hey, at least they&amp;rsquo;re on the same support call with you! ðŸ‘€. They generally don&amp;rsquo;t get in your face either if you&amp;rsquo;re spending a futune! You may get the occasional email from them letting you know that you are very important to them. IMO, they need to be continually proving their worth to you [your organisation] and if they&amp;rsquo;re not, engage a different CSP or employ certified professional(s) who can evaluate your architecture, and your DevOps processes as well as costs. Essentially, you need certified/experienced Engineers to help to make real tangible contributions and improvements.&lt;/p>
&lt;p>8 - If technical issues are plaguing you, then likely they&amp;rsquo;ll manifest themselves also on a different cloud provider. So, if you&amp;rsquo;ve invested heavily with a particular tech, or approach, and this is too costly, too risky to the business due to instability, first understand why first before jumping ship. You never know, you might be using it inefficiently or incorrectly. Take AKS for instance. It&amp;rsquo;s hugely involved. If you get any part of that wrong, it&amp;rsquo;s a risk to your business.&lt;/p>
&lt;p>There will be more I&amp;rsquo;m sure, but for the sake of getting closure on this topic and to put these emotions back into &lt;em>that&lt;/em> box, I will leave it there.&lt;/p>
&lt;h1>Recommendations&lt;/h1>&lt;p>In summary, my advice is this; evaluate your current platform to identify (in no particular order):&lt;/p>
&lt;ul>
&lt;li>Cost savings (eg there could be better bin packing or scaling options or up to 70% reduction on &amp;ldquo;compute&amp;rdquo; by using Reserved Instances)&lt;/li>
&lt;li>Configuration changes to improve stability, minimize failure on upgrading your dependencies, and self-healing&lt;/li>
&lt;li>Improvements on patterns and practices used by your Engineers (incl. low code options, delegate failure edge/corner cases to your architecture, consistency of solution - don&amp;rsquo;t solve the same problem multiple ways!, only measure what you can action)&lt;/li>
&lt;li>Automation (eg runbook when metric exceeded, cron jobs)&lt;/li>
&lt;li>What is your prominent tech? For example, if your ecosystem is predominately .NET then Azure is a justifiable Cloud Platform. You simply won&amp;rsquo;t get the same depth/scope of features/integrations if you go with a different Cloud Provider. Think about it&amp;hellip;would you offer up all your crown jewels to a competing provider? I rest my case!&lt;/li>
&lt;/ul>
&lt;p>I do hope this post has been informative. If I help one person avoid this &lt;em>more often than not wasted effort&lt;/em>, then this post will have been worth it. Changes of this magnitude are laden with risk and one thing companies are adverse to is risk.&lt;/p></description></item><item><title>Azure Defender for Cloud</title><link>https://blog-dev.garrardkitchen.com/blog/azure-defender-for-cloud/</link><pubDate>Sat, 15 Jan 2022 11:57:20 +0000</pubDate><guid>https://blog-dev.garrardkitchen.com/blog/azure-defender-for-cloud/</guid><description>
&lt;h1>Defender for Cloud Containers&lt;/h1>&lt;p>Setting up &lt;strong>Defender for Cloud Containers&lt;/strong> to work with your CICD pipeline is quick and uncomplicated. I do not walk through these set up steps in this post. For that, you can follow those few steps here in this Microsoft post instead âž¡ &lt;a href="https://docs.microsoft.com/en-gb/azure/defender-for-cloud/defender-for-container-registries-cicd" target="_blank" rel="noopener">Setup&lt;/a>. The goal of this post is to highlight a few areas of interest and to share my opinions on this feature. I have &lt;em>understandably&lt;/em> obfuscated sensitive information.&lt;/p>
&lt;p>&lt;strong>TL;DR:&lt;/strong>&lt;/p>
&lt;p>Pros:&lt;/p>
&lt;ul>
&lt;li>Rapid inclusion in your GH Actions CICD pipeline&lt;/li>
&lt;li>Uncomplicated&lt;/li>
&lt;li>Adherence to industry preferred practice&lt;/li>
&lt;/ul>
&lt;p>Cons:&lt;/p>
&lt;ul>
&lt;li>Expected ALL findings from GHA run to be visible in Defender blade&lt;/li>
&lt;li>Doesn&amp;rsquo;t support windows containers (.NET Framework workloads) ðŸ˜± substantiated here âž¡ &lt;a href="https://docs.microsoft.com/en-gb/azure/defender-for-cloud/defender-for-containers-introduction?tabs=defender-for-container-arch-aks#availability" target="_blank" rel="noopener">Availability&lt;/a>&lt;/li>
&lt;/ul>
&lt;h1>Set up&lt;/h1>&lt;p>It takes very little time to configure image scanning and to secure your container images. In my current role as Head of Cloud Platform at Carfinance 247 I am spear heading the migration effort to move our entire workload real estate from on-premise to Azure. As part of this mission, we&amp;rsquo;re using GH Actions for our CICD pipelines. Azure Defender of Cloud Containers compliments GH Actions and I personally have found it a very painless exercise &lt;sup>1&lt;/sup>. It takes little more time than it does to actually read their instructions to configure, run and see the scan summary and remediation advice.&lt;/p>
&lt;p>With regards to configuring Azure Defender for Cloud, all it takes a few mouse clicks and you&amp;rsquo;re done. During this process, you will be required to copy 2 values it makes available to you that will need to be added as GitHub secrets.&lt;/p>
&lt;p>The final step is to insert 2 GH Actions into your GHA Workflow. You may need to seperate your build and push steps as per their instructions. Below is a snippet from one of our deploy GH Actions Workflows that shows how we&amp;rsquo;ve incorporated these GH Actions:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">BUILD IMAGE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> cd ${{ env.ROOT_DIR }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker build -t ${{ env.ACR_NAME }}/${{ env.APP_DOCKERIMAGE }}:${{ env.TAG }} -f ${{ env.ROOT_DIR }}/${{ env.APP_DOCKERFILE }} .
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> errorCode=$?
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> if [ $errorCode -ne 0 ]; then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> echo &amp;#34;Could not build to ACR, error occured with docker build&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> exit 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> fi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SCAN FOR VULNERABILITIES&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Azure/container-scan@v0 &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">container-scan&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">continue-on-error&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image-name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ env.ACR_NAME }}/${{ env.APP_DOCKERIMAGE }}:${{ env.TAG }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">PUSH TO ACR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker push ${{ env.ACR_NAME }}/${{ env.APP_DOCKERIMAGE }}:${{ env.TAG }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> errorCode=$?
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> if [ $errorCode -ne 0 ]; then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> echo &amp;#34;Could not build to ACR, error occured with docker build&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> exit 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> fi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">POST LOGS TO APPINSIGHTS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Azure/publish-security-assessments@v0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scan-results-path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ steps.container-scan.outputs.scan-report-path }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">connection-string&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.AZ_APPINSIGHTS_CONNECTION_STRING }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subscription-token&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.AZ_SUBSCRIPTION_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">...&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>&lt;em>ðŸ‘† We are not using (AZ_APPINSIGHTS_CONNECTION_STRING, AZ_SUBSCRIPTION_TOKEN) secrets names&lt;/em>&lt;/p>
&lt;h1>Results&lt;/h1>&lt;p>There are 2 places where you can view the Commons Vulnerabilities and Exposures. These locations are wihtin GH Actions and the Defender for Cloud Blade in the Azure portal.&lt;/p>
&lt;h2>GH Action Job&lt;span class="hx-absolute -hx-mt-20" id="gh-action-job">&lt;/span>
&lt;a href="#gh-action-job" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;img src="../img/2022-01-15-15-51-01.png" alt="" loading="lazy" />&lt;/p>
&lt;h2>Azure blade&lt;span class="hx-absolute -hx-mt-20" id="azure-blade">&lt;/span>
&lt;a href="#azure-blade" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;img src="../img/2022-01-15-12-06-38.png" alt="" loading="lazy" />&lt;/p>
&lt;h1>Summary&lt;/h1>&lt;p>In summary:&lt;/p>
&lt;ul>
&lt;li>I found it quick to get up and running and see the CVEs and remediation advice&lt;/li>
&lt;li>&lt;sup>1&lt;/sup> - Like with most processes, IMO, if there&amp;rsquo;s no predetermined action to react to findings - e.g. automated Runbook - then it&amp;rsquo;s a pointless exercise and your organisation &lt;em>will&lt;/em> remain exposed to such vulnerabilities&lt;/li>
&lt;li>IMO, this has be part of a wider initiative. For example, the inclusion of code quality analysis is a must to avoid vulnerabilities, bugs and poor coding practices/implementations making it into the codebase in the first place. This is how &lt;em>we&lt;/em> roll. GitHub makes this easy!&lt;/li>
&lt;li>I find it surprising how many CVEs, irrespective of criticality, are present in established docker images. You don&amp;rsquo;t have to look far to discover them!&lt;/li>
&lt;/ul>
&lt;h1>References&lt;/h1>&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://docs.microsoft.com/en-gb/azure/defender-for-cloud/defender-for-container-registries-cicd" target="_blank" rel="noopener">Setup defender for container registries&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://docs.microsoft.com/en-gb/azure/defender-for-cloud/defender-for-containers-introduction?tabs=defender-for-container-arch-aks" target="_blank" rel="noopener">Defender for cloud&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Kubernetes on Windows</title><link>https://blog-dev.garrardkitchen.com/blog/kubernetes-on-windows/</link><pubDate>Mon, 06 Apr 2020 10:20:26 +0100</pubDate><guid>https://blog-dev.garrardkitchen.com/blog/kubernetes-on-windows/</guid><description>
&lt;p>This post is a reminder to me of what needs to be installed in order for a &lt;code>pod&lt;/code>, created from a local image, that is to be served up via a &lt;code>kubernetes cluster&lt;/code>, to be run from your local development environment.&lt;/p>
&lt;h3>What is Kubernetes and why is it so important?&lt;span class="hx-absolute -hx-mt-20" id="what-is-kubernetes-and-why-is-it-so-important">&lt;/span>
&lt;a href="#what-is-kubernetes-and-why-is-it-so-important" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&amp;ldquo;Kubernetes is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes services, support, and tools are widely available.&amp;rdquo;&lt;/p>
&lt;h3>So why is Kubernetes important?&lt;span class="hx-absolute -hx-mt-20" id="so-why-is-kubernetes-important">&lt;/span>
&lt;a href="#so-why-is-kubernetes-important" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&amp;ldquo;&lt;code>Containers&lt;/code> are a good way to bundle and run your applications. In a production environment, you need to manage the containers that run the applications and ensure that there is no downtime. For example, if a container goes down, another container needs to start. Wouldnâ€™t it be easier if this behavior was handled by a system?&lt;/p>
&lt;p>Thatâ€™s how &lt;code>Kubernetes&lt;/code> comes to the rescue! Kubernetes provides you with a framework to run distributed systems resiliently. It takes care of scaling and failover for your application, provides deployment patterns, and more. For example, Kubernetes can easily manage a canary deployment for your system.&amp;rdquo;&lt;/p>
&lt;p>&lt;code>Kubernetes&lt;/code> is the community&amp;rsquo;s (has a much larger community than that of &lt;code>Swarm's&lt;/code> community) choice of &lt;code>container&lt;/code> &lt;code>orchestrators&lt;/code>.&lt;/p>
&lt;h3>Some important notices&lt;span class="hx-absolute -hx-mt-20" id="some-important-notices">&lt;/span>
&lt;a href="#some-important-notices" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;!--
&lt;div style="padding:2px; margin-top: 20px; margin-bottom: 20px;">
&lt;style>
.header {
color: white;
font-weight: bold;
padding-left: 10px;
padding-top: 5px;
padding-bottom: 5px;
border-top-right-radius: 5px;
border-top-left-radius: 5px;
font-size: smaller;
}
.info {
background-color: #336699;
}
.warning {
background-color: orange;
}
.error {
background-color: red;
}
.note-panel {
background-color: #c2f5f5;
padding: 10px;
border-radius: 5px;
}
.panel-info {
border: 1px solid #336699;
background-color: rgba(51, 102, 153, 0.2);
}
.panel-warning {
border: 1px solid orange;
background-color: rgba(255, 166, 0, 0.2);
}
.panel-error {
border: 1px solid red;
background-color: rgba(255, 0, 0, 0.2);
}
.panel-header {
border-top-left-radius: 0px !important;
border-top-right-radius: 0px !important;
}
&lt;/style>
&lt;div>
&lt;div style=" font-family: 'Open Sans'; "
class="header info ">
&lt;i class="fa fa-question-circle">&lt;/i>
Permissions
&lt;/div>
&lt;/div>
&lt;div class="note-panel
panel-info
panel-header ">
&lt;div style="; ">
-->
&lt;!--
&lt;/div>
&lt;/div>
&lt;/div>
-->
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-rounded-lg hx-border hx-py-2 ltr:hx-pr-4 rtl:hx-pl-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;div class="ltr:hx-pl-3 ltr:hx-pr-2 rtl:hx-pr-3 rtl:hx-pl-2">&lt;div class="hx-select-none hx-text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">â„¹ï¸&lt;/div>&lt;/div>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>&lt;strong>Permissions&lt;/strong>&lt;/p>
&lt;p>To install &lt;b>kubectl&lt;/b> and &lt;b>minikube&lt;/b> you must start Powershell with Administrator permissions&lt;/p>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;!--
&lt;div style="padding:2px; margin-top: 20px; margin-bottom: 20px;">
&lt;style>
.header {
color: white;
font-weight: bold;
padding-left: 10px;
padding-top: 5px;
padding-bottom: 5px;
border-top-right-radius: 5px;
border-top-left-radius: 5px;
font-size: smaller;
}
.info {
background-color: #336699;
}
.warning {
background-color: orange;
}
.error {
background-color: red;
}
.note-panel {
background-color: #c2f5f5;
padding: 10px;
border-radius: 5px;
}
.panel-info {
border: 1px solid #336699;
background-color: rgba(51, 102, 153, 0.2);
}
.panel-warning {
border: 1px solid orange;
background-color: rgba(255, 166, 0, 0.2);
}
.panel-error {
border: 1px solid red;
background-color: rgba(255, 0, 0, 0.2);
}
.panel-header {
border-top-left-radius: 0px !important;
border-top-right-radius: 0px !important;
}
&lt;/style>
&lt;div>
&lt;div style=" font-family: 'Open Sans'; "
class="header warning ">
&lt;i class="fa fa-exclamation-circle">&lt;/i>
Shell
&lt;/div>
&lt;/div>
&lt;div class="note-panel
panel-warning warning
panel-header ">
&lt;div style="; ">
&lt;/div>
&lt;/div>
&lt;/div>
-->
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-rounded-lg hx-border hx-py-2 ltr:hx-pr-4 rtl:hx-pl-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-yellow-100 hx-bg-yellow-50 hx-text-yellow-900 dark:hx-border-yellow-200/30 dark:hx-bg-yellow-700/30 dark:hx-text-yellow-200">
&lt;div class="ltr:hx-pl-3 ltr:hx-pr-2 rtl:hx-pr-3 rtl:hx-pl-2">&lt;div class="hx-select-none hx-text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">âš ï¸&lt;/div>&lt;/div>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>&lt;strong>Shell&lt;/strong>&lt;/p>
&lt;p>These settings will only viable for the current shell, if you need to run another shell, ensure the &lt;b>minikube docker-env&lt;/b> commands in the &lt;b>Steps to take to configure your environment&lt;/b> section are also executed in the new shell. As minikube is the tool that runs a local cluster in your development environment, we need to tell it to use it&amp;rsquo;s built-in docker daemon and have images pulled from there, and not from a container registry.&lt;/p>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>How do I install &lt;code>kubectl&lt;/code> (and what the heck is it)?&lt;span class="hx-absolute -hx-mt-20" id="how-do-i-install-kubectl-and-what-the-heck-is-it">&lt;/span>
&lt;a href="#how-do-i-install-kubectl-and-what-the-heck-is-it" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://github.com/kubernetes/kubectl" target="_blank" rel="noopener">&lt;strong>kubectl&lt;/strong>&lt;/a> is a CLI (command line interface) tool for controlling Kubernetes clusters. You can use this tool to deploy applications, inspect and manage cluster resources and view logs.&lt;/p>
&lt;p>To ease the installation process, use &lt;a href="https://chocolatey.org/packages" target="_blank" rel="noopener">chocolatey&lt;/a> to install &lt;a href="https://github.com/kubernetes/kubectl" target="_blank" rel="noopener">kubernetes-cli&lt;/a>, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">choco&lt;/span> &lt;span class="nf">install&lt;/span> &lt;span class="err">kubernetes-cli&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>How do I install minikube (and what the heck is it)?&lt;span class="hx-absolute -hx-mt-20" id="how-do-i-install-minikube-and-what-the-heck-is-it">&lt;/span>
&lt;a href="#how-do-i-install-minikube-and-what-the-heck-is-it" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;code>Minikube&lt;/code> implements a local Kubernetes cluster and is deemed the best tool for local Kubernetes application development.&lt;/p>
&lt;p>To ease the installation process, use &lt;a href="https://chocolatey.org/packages" target="_blank" rel="noopener">chocolatey&lt;/a> to install &lt;a href="https://github.com/kubernetes/minikube" target="_blank" rel="noopener">&lt;strong>minikube&lt;/strong>&lt;/a>, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">choco&lt;/span> &lt;span class="nf">install&lt;/span> &lt;span class="err">minikube&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Before you start, you must ensure that you have a platform virtualisation system available. Platform virtualisation software provides the mechanism to run virtual machines and containers in isolation and exposes them to one or more networks. It is within a virtual machine that your Kubernetes cluster will run. Windows 10 comes with a virtualisation hypervisor feature called &lt;code>hyper-v&lt;/code>. You need to ensure it is running first. To do this, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">Enable-WindowsOptionalFeature&lt;/span> &lt;span class="nf">-Online&lt;/span> &lt;span class="nf">-FeatureName&lt;/span> &lt;span class="nf">Microsoft-Hyper-V&lt;/span> &lt;span class="err">-All&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">start&lt;/span> &lt;span class="nf">--driver&lt;/span> &lt;span class="nf">hyperv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">v1.9.1&lt;/span> &lt;span class="nf">on&lt;/span> &lt;span class="nf">Microsoft&lt;/span> &lt;span class="nf">Windows&lt;/span> &lt;span class="mf">10&lt;/span> &lt;span class="nf">Enterprise&lt;/span> &lt;span class="nf">10.0.18363&lt;/span> &lt;span class="nf">Build&lt;/span> &lt;span class="mf">18363&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Using&lt;/span> &lt;span class="nf">the&lt;/span> &lt;span class="nf">hyperv&lt;/span> &lt;span class="nf">driver&lt;/span> &lt;span class="nf">based&lt;/span> &lt;span class="nf">on&lt;/span> &lt;span class="nf">user&lt;/span> &lt;span class="nf">configuration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Downloading&lt;/span> &lt;span class="nf">VM&lt;/span> &lt;span class="nf">boot&lt;/span> &lt;span class="nf">image&lt;/span> &lt;span class="nf">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube-v1.9.0.iso.sha256:&lt;/span> &lt;span class="mf">65&lt;/span> &lt;span class="nf">B&lt;/span> &lt;span class="err">/&lt;/span> &lt;span class="mf">65&lt;/span> &lt;span class="nf">B&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nf">--------------&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="mf">100.00&lt;/span>&lt;span class="c1">% ? p/s 0s
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube-v1.9.0.iso:&lt;/span> &lt;span class="mf">174.93&lt;/span> &lt;span class="nf">MiB&lt;/span> &lt;span class="err">/&lt;/span> &lt;span class="mf">174.93&lt;/span> &lt;span class="nf">MiB&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="mf">100.00&lt;/span>&lt;span class="c1">% 1.03 MiB p/s 2m51s
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nf">*&lt;/span> &lt;span class="nf">Starting&lt;/span> &lt;span class="nf">control&lt;/span> &lt;span class="nf">plane&lt;/span> &lt;span class="nf">node&lt;/span> &lt;span class="nf">m01&lt;/span> &lt;span class="nf">in&lt;/span> &lt;span class="nf">cluster&lt;/span> &lt;span class="nf">minikube&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Creating&lt;/span> &lt;span class="nf">hyperv&lt;/span> &lt;span class="nf">VM&lt;/span> &lt;span class="s">(CPUs=2, Memory=6000MB, Disk=20000MB)&lt;/span> &lt;span class="nf">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Preparing&lt;/span> &lt;span class="nf">Kubernetes&lt;/span> &lt;span class="nf">v1.18.0&lt;/span> &lt;span class="nf">on&lt;/span> &lt;span class="nf">Docker&lt;/span> &lt;span class="nf">19.03.8&lt;/span> &lt;span class="nf">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Enabling&lt;/span> &lt;span class="nf">addons:&lt;/span> &lt;span class="nf">default-storageclass,&lt;/span> &lt;span class="nf">storage-provisioner&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Done!&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">is&lt;/span> &lt;span class="nf">now&lt;/span> &lt;span class="nf">configured&lt;/span> &lt;span class="nf">to&lt;/span> &lt;span class="nf">use&lt;/span> &lt;span class="err">&amp;#34;minikube&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Steps to take to configure your environment&lt;span class="hx-absolute -hx-mt-20" id="steps-to-take-to-configure-your-environment">&lt;/span>
&lt;a href="#steps-to-take-to-configure-your-environment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To set up your minikube environment, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">docker-env&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$Env:DOCKER_TLS_VERIFY&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">&amp;#34;1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$Env:DOCKER_HOST&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">&amp;#34;tcp:&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">/192.168.75.126:2376&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$Env:DOCKER_CERT_PATH&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">&amp;#34;C:\Users\garrard.kitchen\.minikube\certs&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$Env:MINIKUBE_ACTIVE_DOCKERD&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">&amp;#34;minikube&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">#&lt;/span> &lt;span class="nf">To&lt;/span> &lt;span class="nf">point&lt;/span> &lt;span class="nf">your&lt;/span> &lt;span class="nf">shell&lt;/span> &lt;span class="nf">to&lt;/span> &lt;span class="nf">minikube&amp;#39;s&lt;/span> &lt;span class="nf">docker-daemon,&lt;/span> &lt;span class="nf">run:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">#&lt;/span> &lt;span class="nf">&amp;amp;&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">-p&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">docker-env&lt;/span> &lt;span class="nf">|&lt;/span> &lt;span class="err">Invoke-Expression&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To point your shell to minikube&amp;rsquo;s docker-daemon, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">docker-env&lt;/span> &lt;span class="nf">|&lt;/span> &lt;span class="err">Invoke-Expression&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To get access to minikube&amp;rsquo;s dashboard, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube.exe&lt;/span> &lt;span class="nf">dashboard&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Verifying&lt;/span> &lt;span class="nf">dashboard&lt;/span> &lt;span class="nf">health&lt;/span> &lt;span class="nf">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Launching&lt;/span> &lt;span class="nf">proxy&lt;/span> &lt;span class="nf">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Verifying&lt;/span> &lt;span class="nf">proxy&lt;/span> &lt;span class="nf">health&lt;/span> &lt;span class="nf">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">Opening&lt;/span> &lt;span class="nf">http:&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">/127.0.0.1:54553/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy&lt;/span>&lt;span class="err">/&lt;/span> &lt;span class="nf">in&lt;/span> &lt;span class="nf">your&lt;/span> &lt;span class="nf">default&lt;/span> &lt;span class="err">browser...&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Here&amp;rsquo;s some sample nodejs (&lt;code>server.js&lt;/code>) code. It starts a server on port 8080:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div class="filename not-prose" dir="auto">server.js&lt;/div>&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">http&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">handleRequest&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Received request for URL: &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeHead&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello World!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;started&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">www&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createServer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">handleRequest&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">www&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">8080&lt;/span>&lt;span class="p">);&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-8">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Here&amp;rsquo;s a &lt;code>Dockerfile&lt;/code> for the above &lt;code>nodejs&lt;/code> server. Please observe that it exposes port 8080. This ensures that network TCP traffic can be received by the container via port 8080.&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div class="filename not-prose" dir="auto">dockerfile&lt;/div>&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> node:13.5.0&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 8080&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> server.js .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="s2">&amp;#34;node&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;server.js&amp;#34;&lt;/span> &lt;span class="p">]&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-8">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To build a image of the above &lt;code>Dockerfile&lt;/code>, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">docker&lt;/span> &lt;span class="nf">build&lt;/span> &lt;span class="nf">-t&lt;/span> &lt;span class="nf">hello-world:1&lt;/span> &lt;span class="err">.&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;!--
&lt;div style="padding:2px; margin-top: 20px; margin-bottom: 20px;">
&lt;style>
.header {
color: white;
font-weight: bold;
padding-left: 10px;
padding-top: 5px;
padding-bottom: 5px;
border-top-right-radius: 5px;
border-top-left-radius: 5px;
font-size: smaller;
}
.info {
background-color: #336699;
}
.warning {
background-color: orange;
}
.error {
background-color: red;
}
.note-panel {
background-color: #c2f5f5;
padding: 10px;
border-radius: 5px;
}
.panel-info {
border: 1px solid #336699;
background-color: rgba(51, 102, 153, 0.2);
}
.panel-warning {
border: 1px solid orange;
background-color: rgba(255, 166, 0, 0.2);
}
.panel-error {
border: 1px solid red;
background-color: rgba(255, 0, 0, 0.2);
}
.panel-header {
border-top-left-radius: 0px !important;
border-top-right-radius: 0px !important;
}
&lt;/style>
&lt;div>
&lt;div style=" font-family: 'Open Sans'; "
class="header warning ">
&lt;i class="fa fa-exclamation-circle">&lt;/i>
Include a build tag
&lt;/div>
&lt;/div>
&lt;div class="note-panel
panel-warning warning
panel-header ">
&lt;div style="; ">
&lt;/div>
&lt;/div>
&lt;/div>
-->
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-rounded-lg hx-border hx-py-2 ltr:hx-pr-4 rtl:hx-pl-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-yellow-100 hx-bg-yellow-50 hx-text-yellow-900 dark:hx-border-yellow-200/30 dark:hx-bg-yellow-700/30 dark:hx-text-yellow-200">
&lt;div class="ltr:hx-pl-3 ltr:hx-pr-2 rtl:hx-pr-3 rtl:hx-pl-2">&lt;div class="hx-select-none hx-text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">âš ï¸&lt;/div>&lt;/div>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>&lt;strong>Include a build tag&lt;/strong>&lt;/p>
&lt;p>You must specify a version tag and it has to be something other than &lt;strong>latest&lt;/strong>. Here, I have used &lt;strong>1&lt;/strong>. If you don&amp;rsquo;t follow these instructions, minikube will attempt to pull the image from a docker registry (normally DockerHub).&lt;/p>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>To check that the image exists in Minikube&amp;rsquo;s built-in Docker daemon, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">ssh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$&lt;/span> &lt;span class="nf">docker&lt;/span> &lt;span class="err">images&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>You should see something similar to this:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code>$ minikube ssh
_ _
_ _ ( ) ( )
___ ___ (_) ___ (_)| |/&amp;#39;) _ _ | |_ __
/&amp;#39; _ ` _ `\| |/&amp;#39; _ `\| || , &amp;lt; ( ) ( )| &amp;#39;_`\ /&amp;#39;__`\
| ( ) ( ) || || ( ) || || |\`\ | (_) || |_) )( ___/
(_) (_) (_)(_)(_) (_)(_)(_) (_)`\___/&amp;#39;(_,__/&amp;#39;`\____)
$ docker images
REPOSITORY TAG IMAGE ID CREATED SIZE
hello-world 1 55f40b7f5c32 13 days ago 660MB
hello-world latest 50c4285f25a5 13 days ago 660MB
nginx latest ed21b7a8aee9 2 weeks ago 127MB
k8s.gcr.io/kube-proxy v1.18.0 43940c34f24f 3 weeks ago 117MB
k8s.gcr.io/kube-scheduler v1.18.0 a31f78c7c8ce 3 weeks ago 95.3MB
k8s.gcr.io/kube-apiserver v1.18.0 74060cea7f70 3 weeks ago 173MB
k8s.gcr.io/kube-controller-manager v1.18.0 d3e55153f52f 3 weeks ago 162MB
kubernetesui/dashboard v2.0.0-rc6 cdc71b5a8a0e 5 weeks ago 221MB
k8s.gcr.io/pause 3.2 80d28bedfe5d 2 months ago 683kB
k8s.gcr.io/coredns 1.6.7 67da37a9a360 2 months ago 43.8MB
kindest/kindnetd 0.5.3 aa67fec7d7ef 5 months ago 78.5MB
k8s.gcr.io/etcd 3.4.3-0 303ce5db0e90 5 months ago 288MB
kubernetesui/metrics-scraper v1.0.2 3b08661dc379 5 months ago 40.1MB
gcr.io/k8s-minikube/storage-provisioner v1.8.1 4689081edb10 2 years ago 80.8MB&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To run this image as a pod, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">run&lt;/span> &lt;span class="nf">hello-world&lt;/span> &lt;span class="nf">--image=hello-world:1&lt;/span> &lt;span class="nf">--port=8080&lt;/span> &lt;span class="nf">--image-pull-policy=never&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">pod&lt;/span>&lt;span class="nv">/hello-world&lt;/span> &lt;span class="err">created&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The &lt;code>--image-pull-policy=never&lt;/code> is telling Kubectl to use the local image and not one from a container registry (&lt;a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker&lt;/a>, &lt;a href="https://azure.microsoft.com/en-us/services/container-registry/" target="_blank" rel="noopener">ACR&lt;/a>, &lt;a href="https://aws.amazon.com/ecr/" target="_blank" rel="noopener">ECR&lt;/a>, &lt;a href="https://cloud.google.com/container-registry" target="_blank" rel="noopener">GCP&lt;/a>)&lt;/p>
&lt;p>To expose this port for external access (from browser) from outside of the cluster, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">expose&lt;/span> &lt;span class="nf">pod&lt;/span> &lt;span class="nf">hello-world&lt;/span> &lt;span class="nf">--type=LoadBalancer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">service&lt;/span> &lt;span class="nf">&amp;#34;hello-world&amp;#34;&lt;/span> &lt;span class="err">exposed&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To confirm your &lt;code>service&lt;/code> is running and to get the &lt;code>port number&lt;/code> of this &lt;code>exposed service&lt;/code>, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">get&lt;/span> &lt;span class="nf">services&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">NAME&lt;/span> &lt;span class="nf">TYPE&lt;/span> &lt;span class="nf">CLUSTER-IP&lt;/span> &lt;span class="nf">EXTERNAL-IP&lt;/span> &lt;span class="nf">PORT&lt;/span>&lt;span class="s">(S)&lt;/span> &lt;span class="nf">AGE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">hello-world&lt;/span> &lt;span class="nf">LoadBalancer&lt;/span> &lt;span class="nf">10.111.126.10&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nf">pending&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">8080:31589&lt;/span>&lt;span class="nv">/TCP&lt;/span> &lt;span class="nf">45h&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">kubernetes&lt;/span> &lt;span class="nf">ClusterIP&lt;/span> &lt;span class="nf">10.96.0.1&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nf">none&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="mf">443&lt;/span>&lt;span class="nv">/TCP&lt;/span> &lt;span class="err">2d16h&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;blockquote class="book-hint info">
You will see the **\&lt;pending>** state of your LoadBalancer if you do not have not a Load Balancer integrated with your cluster. For your local development environment, it is nothing to worry about.
&lt;/blockquote>
&lt;p>You will see that the &lt;strong>hello-world&lt;/strong> service is accessible via port &lt;strong>8080&lt;/strong>. However, we still don&amp;rsquo;t know behind what IPv4 address, this services is available. To get the IPv4 address of your cluster, you type:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">ip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">192.168.75.126&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>Finally, to access your service, run the cURL command, using the &lt;code>minikube ip&lt;/code> address and the TCP port as listed in the &lt;code>kubectl get services&lt;/code> output:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">curl&lt;/span> &lt;span class="nf">&amp;#34;http:&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">/192.168.75.126:31589&amp;#34;&lt;/span> &lt;span class="nf">-UseBasicParsing&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">StatusCode&lt;/span> &lt;span class="nf">:&lt;/span> &lt;span class="mf">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">StatusDescription&lt;/span> &lt;span class="nf">:&lt;/span> &lt;span class="nf">OK&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Content&lt;/span> &lt;span class="nf">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nf">72,&lt;/span> &lt;span class="nf">101,&lt;/span> &lt;span class="nf">108,&lt;/span> &lt;span class="nf">108...&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">RawContent&lt;/span> &lt;span class="nf">:&lt;/span> &lt;span class="nf">HTTP&lt;/span>&lt;span class="nv">/1.1&lt;/span> &lt;span class="mf">200&lt;/span> &lt;span class="nf">OK&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Connection:&lt;/span> &lt;span class="nf">keep-alive&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Transfer-Encoding:&lt;/span> &lt;span class="nf">chunked&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Date:&lt;/span> &lt;span class="nf">Mon,&lt;/span> &lt;span class="mf">06&lt;/span> &lt;span class="nf">Apr&lt;/span> &lt;span class="mf">2020&lt;/span> &lt;span class="nf">13:05:42&lt;/span> &lt;span class="nf">GMT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Hello&lt;/span> &lt;span class="nf">World!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Headers&lt;/span> &lt;span class="nf">:&lt;/span> &lt;span class="p">{[&lt;/span>&lt;span class="nf">Connection,&lt;/span> &lt;span class="nf">keep-alive&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nf">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nf">Transfer-Encoding,&lt;/span> &lt;span class="nf">chunked&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nf">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nf">Date,&lt;/span> &lt;span class="nf">Mon,&lt;/span> &lt;span class="mf">06&lt;/span> &lt;span class="nf">Apr&lt;/span> &lt;span class="mf">2020&lt;/span> &lt;span class="nf">13:05:42&lt;/span> &lt;span class="nf">GMT&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">RawContentLength&lt;/span> &lt;span class="nf">:&lt;/span> &lt;span class="err">12&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>You can also use minikube to obtain your service&amp;rsquo;s url. To do this, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">service&lt;/span> &lt;span class="nf">hello-world&lt;/span> &lt;span class="nf">--url&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">http:&lt;/span>&lt;span class="err">//192.168.75.126:31589&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Useful &lt;code>kubectl&lt;/code> commands&lt;span class="hx-absolute -hx-mt-20" id="useful-kubectl-commands">&lt;/span>
&lt;a href="#useful-kubectl-commands" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>This first command is important. Some background first&amp;hellip;a &lt;code>context&lt;/code> is a group of access parameters. Each &lt;code>context&lt;/code> contains a &lt;code>Kubernetes cluster&lt;/code>, a &lt;code>user&lt;/code>, and a &lt;code>namespace&lt;/code>. When you are working with multiple contexts off of your development machine, you may run into compatibility issues due to your client version not being compatible with the server API version. All &lt;code>kubectl&lt;/code> commands will run against the &lt;code>current context&lt;/code>. To check your client version, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">version&lt;/span> &lt;span class="nf">--client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Client&lt;/span> &lt;span class="nf">Version:&lt;/span> &lt;span class="nf">version.Info&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nf">Major:&amp;#34;1&amp;#34;,&lt;/span> &lt;span class="nf">Minor:&amp;#34;18&amp;#34;,&lt;/span> &lt;span class="nf">GitVersion:&amp;#34;v1.18.0&amp;#34;,&lt;/span> &lt;span class="nf">GitCommit:&amp;#34;9e991415386e4cf155a24b1da15becaa390438d8&amp;#34;,&lt;/span> &lt;span class="nf">GitTreeState:&amp;#34;clean&amp;#34;,&lt;/span> &lt;span class="nf">BuildDate:&amp;#34;2020-03-25T14:58:59Z&amp;#34;,&lt;/span> &lt;span class="nf">GoVersion:&amp;#34;go1.13.8&amp;#34;,&lt;/span> &lt;span class="nf">Compiler:&amp;#34;gc&amp;#34;,&lt;/span> &lt;span class="nf">Platform:&amp;#34;windows&lt;/span>&lt;span class="nv">/amd64&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To ascertain your current context, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">config&lt;/span> &lt;span class="nf">current-context&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">minikube&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>To list all of your configured contexts, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">config&lt;/span> &lt;span class="nf">get-contexts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">CURRENT&lt;/span> &lt;span class="nf">NAME&lt;/span> &lt;span class="nf">CLUSTER&lt;/span> &lt;span class="nf">AUTHINFO&lt;/span> &lt;span class="nf">NAMESPACE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">docker-desktop&lt;/span> &lt;span class="nf">docker-desktop&lt;/span> &lt;span class="nf">docker-desktop&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">docker-for-desktop&lt;/span> &lt;span class="nf">docker-desktop&lt;/span> &lt;span class="nf">docker-desktop&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">*&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="nf">minikube&lt;/span> &lt;span class="err">minikube&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The * next to &lt;strong>minikube&lt;/strong> indicates that &lt;strong>minikube&lt;/strong> is your current context.&lt;/p>
&lt;p>If you are configured to access a cluster hosted from a cloud provider such as &lt;code>Azure&lt;/code>, then this context will also be listed.&lt;/p>
&lt;p>To use a specific context, run:&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">PS&lt;/span> &lt;span class="nf">C:\&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nf">kubectl&lt;/span> &lt;span class="nf">config&lt;/span> &lt;span class="nf">use-context&lt;/span> &lt;span class="err">docker-for-desktop&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>References&lt;span class="hx-absolute -hx-mt-20" id="references">&lt;/span>
&lt;a href="#references" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_blank" rel="noopener">Install Kubernetes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://kubernetes.io/docs/tasks/tools/install-minikube/" target="_blank" rel="noopener">Install Minikube&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener">Kubectl Cheatsheet&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://kubernetes.io/docs/setup/learning-environment/minikube/#use-local-images-by-re-using-the-docker-daemon" target="_blank" rel="noopener">Minikube&amp;rsquo;s built-in Docker daemon&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>